<div class="mx-auto p-4">
  <h1 class="text-xl font-bold mb-4">{{ mode === 'edit' ? 'Edit' : 'Add New' }} Product</h1>
  
  <form [formGroup]="productForm" (ngSubmit)="onSubmit()" class="grid grid-cols-1">
    <div class="flex flex-col p-10 rounded-md gap-4 bg-white">
      <!-- Name Field -->
      <div>
        <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
        <input 
          type="text" 
          formControlName="name" 
          id="name" 
          class="border-[1px] px-4 border-accent-offwhite mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full h-12 shadow-sm sm:text-sm border-gray-300 rounded-md"
          [ngClass]="{'border-red-500': formControls['name'].errors && formControls['name'].touched}"
        >
        <div *ngIf="formControls['name'].errors?.['required'] && formControls['name'].touched" class="text-red-500 text-sm mt-1">
          Name is required
        </div>
      </div>

      <!-- Description Field -->
      <div>
        <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
        <angular-editor 
          formControlName="description" 
          [config]="editorConfig"
        ></angular-editor>
        <div *ngIf="formControls['description'].errors?.['required'] && formControls['description'].touched" class="text-red-500 text-sm mt-1">
          Description is required
        </div>
      </div>

      <!-- Price Field -->
      <div>
        <label for="price" class="block text-sm font-medium text-gray-700">Price</label>
        <input 
          type="number" 
          formControlName="price" 
          id="price" 
          class="border-[1px] px-4 border-accent-offwhite mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full h-12 shadow-sm sm:text-sm border-gray-300 rounded-md"
          [ngClass]="{'border-red-500': formControls['price'].errors && formControls['price'].touched}"
        >
        <div *ngIf="formControls['price'].errors?.['required'] && formControls['price'].touched" class="text-red-500 text-sm mt-1">
          Price is required
        </div>
      </div>

      <!-- Quantity Field -->
      <div>
        <label for="quantity" class="block text-sm font-medium text-gray-700">Quantity</label>
        <input 
          type="number" 
          formControlName="quantity" 
          id="quantity" 
          class="border-[1px] px-4 border-accent-offwhite mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full h-12 shadow-sm sm:text-sm border-gray-300 rounded-md"
          [ngClass]="{'border-red-500': formControls['quantity'].errors && formControls['quantity'].touched}"
        >
        <div *ngIf="formControls['quantity'].errors?.['required'] && formControls['quantity'].touched" class="text-red-500 text-sm mt-1">
          Quantity is required
        </div>
      </div>

      <!-- Category Field -->
      <div>
        <label for="categoryId" class="block text-sm font-medium text-gray-700">Category</label>
        <select 
          formControlName="categoryId" 
          id="categoryId" 
          class="border-[1px] px-4 border-accent-offwhite mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full h-12 shadow-sm sm:text-sm border-gray-300 rounded-md"
          [ngClass]="{'border-red-500': formControls['categoryId'].errors && formControls['categoryId'].touched}"
        >
          <option value="">Select a category</option>
          <option *ngFor="let category of categories" [value]="category.id">
            {{category.name}}
          </option>
        </select>
        <div *ngIf="formControls['categoryId'].errors?.['required'] && formControls['categoryId'].touched" class="text-red-500 text-sm mt-1">
          Category is required
        </div>
      </div>


      <!-- Image Upload Field -->
      <div>
        <label for="images" class="block text-sm font-medium text-gray-700">Images</label>
        <input 
          type="file" 
          formControlName="images" 
          (change)="onFileChange($event)" 
          id="images" 
          accept="image/*"
          multiple
          class="text-center py-3 border-[1px] px-4 border-accent-offwhite mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full h-12 shadow-sm sm:text-sm border-gray-300 rounded-md"
        >
      </div>

      <!-- Submit Button -->
      <div class="mt-4">
        <button 
          type="submit" 
          class=" bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors"
        >
          {{ mode === 'edit' ? 'Update' : 'Add' }} Product
        </button>
      </div>
    </div>
  </form>
</div>